<div class="workspace-shell" aria-label="MagnetarAion Arbeitsoberfl√§che">
  <aside class="workspace-shell__sidebar" aria-label="MagnetarAion Navigation">
    <div class="sidebar__header">
      <span class="sidebar__logo" aria-hidden="true">MA</span>
      <div class="sidebar__product">
        <span class="sidebar__product-title">MagnetarAion</span>
        <span class="sidebar__product-subtitle">Team Workspace</span>
      </div>
    </div>

    <div class="sidebar__account" aria-label="Schnellaktionen">
      <button
        type="button"
        class="sidebar__avatar"
        (click)="toggleQuickActions($event)"
        aria-haspopup="menu"
        [attr.aria-expanded]="isQuickActionsOpen"
        aria-label="Schnellaktionen √∂ffnen"
      >
        <span aria-hidden="true">AD</span>
      </button>
      <div
        class="sidebar__quick-menu"
        *ngIf="isQuickActionsOpen"
        role="menu"
        (click)="onQuickActionsContainerClick($event)"
      >
        <p class="sidebar__quick-heading">Schnellaktionen</p>
        <ul class="sidebar__quick-list">
          <li *ngFor="let action of quickActions" class="sidebar__quick-list-item">
            <button
              type="button"
              class="sidebar__quick-action"
              role="menuitem"
              (click)="handleQuickActionClick(action)"
            >
              <span class="sidebar__quick-icon" aria-hidden="true">
                <ng-container [ngSwitch]="action.icon">
                  <span *ngSwitchCase="'plus'">+</span>
                  <span *ngSwitchCase="'settings'">‚öôÔ∏è</span>
                  <span *ngSwitchCase="'help'">?</span>
                  <span *ngSwitchCase="'notifications'">üîî</span>
                  <span *ngSwitchCase="'profile'">üë§</span>
                  <span *ngSwitchCase="'collapse'">‚§°</span>
                </ng-container>
              </span>
              <span class="sidebar__quick-label">{{ action.label }}</span>
            </button>
          </li>
        </ul>
      </div>
    </div>

    <nav class="sidebar__nav" aria-label="Hauptnavigation">
      <p class="sidebar__section-label">Bereiche</p>
      <ul class="sidebar__nav-list">
        <li class="sidebar__nav-item" *ngFor="let item of navItems">
          <a
            class="sidebar__nav-link"
            [routerLink]="item.path"
            routerLinkActive="sidebar__nav-link--active"
            [routerLinkActiveOptions]="{ exact: item.exact ?? true }"
            #linkActive="routerLinkActive"
            [attr.aria-current]="linkActive.isActive ? 'page' : null"
          >
            <span class="sidebar__icon" aria-hidden="true">
              <svg *ngIf="item.icon === 'tickets'" viewBox="0 0 24 24" focusable="false">
                <rect x="3" y="5" width="18" height="14" rx="2.5" ry="2.5" stroke-width="1.5" stroke="currentColor" fill="none"></rect>
                <path d="M9 11.5l2 2 4-4" fill="none" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"></path>
              </svg>
              <svg *ngIf="item.icon === 'dashboards'" viewBox="0 0 24 24" focusable="false">
                <path d="M4.5 4.5h6v7h-6zM13.5 4.5h6v4h-6zM13.5 11.5h6v8h-6zM4.5 14.5h6v5h-6z" fill="currentColor"></path>
              </svg>
              <svg *ngIf="item.icon === 'agile'" viewBox="0 0 24 24" focusable="false">
                <path d="M5 13a7 7 0 1 1 7 7h-5" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path>
                <path d="M7 17l-2 3-2-3" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
              </svg>
              <svg *ngIf="item.icon === 'reports'" viewBox="0 0 24 24" focusable="false">
                <path d="M6 20V4h12v16" fill="none" stroke="currentColor" stroke-width="1.5"></path>
                <path d="M9.5 14.5l2.5-3 2.5 2 2.5-4" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
              </svg>
              <svg *ngIf="item.icon === 'projects'" viewBox="0 0 24 24" focusable="false">
                <path d="M4.5 7a2.5 2.5 0 0 1 2.5-2.5h10a2.5 2.5 0 0 1 2.5 2.5V19a1 1 0 0 1-1 1h-13a1 1 0 0 1-1-1z" fill="none" stroke="currentColor" stroke-width="1.5"></path>
                <path d="M9 5v3h6V5" fill="none" stroke="currentColor" stroke-width="1.5"></path>
              </svg>
              <svg *ngIf="item.icon === 'knowledge'" viewBox="0 0 24 24" focusable="false">
                <path d="M5.5 6.5c1.5-.9 3.3-1.4 5.5-1.4s4 .5 5.5 1.4v11c-1.5-.9-3.3-1.4-5.5-1.4s-4 .5-5.5 1.4z" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linejoin="round"></path>
                <path d="M16.5 6.5V4.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path>
              </svg>
              <svg *ngIf="item.icon === 'timesheets'" viewBox="0 0 24 24" focusable="false">
                <circle cx="12" cy="12" r="7" fill="none" stroke="currentColor" stroke-width="1.5"></circle>
                <path d="M12 9v4l2.5 1.5" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"></path>
              </svg>
              <svg *ngIf="item.icon === 'gantt'" viewBox="0 0 24 24" focusable="false">
                <path d="M4 6h16" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"></path>
                <rect x="6" y="9" width="7" height="3" rx="1.5" fill="currentColor"></rect>
                <rect x="9" y="14" width="9" height="3" rx="1.5" fill="currentColor"></rect>
              </svg>
            </span>
            <span class="sidebar__label">{{ item.label }}</span>
          </a>
        </li>
      </ul>
    </nav>
  </aside>

  <div class="workspace-shell__main">
    <header class="workspace-header" aria-labelledby="workspaceHeadline">
      <div class="workspace-header__info">
        <span class="workspace-header__eyebrow">MagnetarAion Arbeitsbereich</span>
        <h1 id="workspaceHeadline" class="workspace-header__title">Willkommen zur√ºck, Team!</h1>
        <p class="workspace-header__subtitle">
          Richte deinen Fokus auf das Wesentliche und navigiere schnell zwischen den Bereichen deines MagnetarAion Workspaces.
        </p>
      </div>
      <div class="workspace-header__actions">
        <div class="theme-indicator" role="status" aria-live="polite">
          <span class="theme-indicator__dot" [class.theme-indicator__dot--dark]="currentTheme === 'dark'"></span>
          <span class="theme-indicator__label">
            {{ currentTheme === 'dark' ? 'Dunkles Theme aktiv' : 'Helles Theme aktiv' }}
          </span>
        </div>
        <button type="button" class="theme-toggle" (click)="toggleTheme()">
          <span class="theme-toggle__icon" aria-hidden="true"></span>
          <span class="theme-toggle__text">
            {{ currentTheme === 'dark' ? 'Zum hellen Modus wechseln' : 'Zum dunklen Modus wechseln' }}
          </span>
        </button>
      </div>
    </header>

    <section class="workspace-content" aria-label="Seiteninhalt">
      <router-outlet></router-outlet>
    </section>
  </div>
</div>
