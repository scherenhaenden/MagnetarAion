@startuml
!theme plain

title Frontend API Service and Interceptors

participant "Angular Component" as Component
participant "ApiService" as Service
participant "HttpClient" as Client
participant "HttpTokenInterceptor" as TokenInterceptor
participant "HttpErrorInterceptor" as ErrorInterceptor
participant "Backend" as Backend

Component -> Service : Makes API Call
Service -> Client : Sends HTTP Request

group HTTP Request Interception
  Client -> TokenInterceptor : 1. Adds Auth Token
  TokenInterceptor -> Backend : HTTP Request with Token
end

group HTTP Response Interception
  Backend --> ErrorInterceptor : HTTP Response
  ErrorInterceptor --> Client : 2. Handles Errors
end

Client --> Service : Returns Observable
Service --> Component : Returns Observable

@enduml
